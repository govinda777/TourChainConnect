<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="600" viewBox="0 0 800 600">
  <style>
    .contract {
      fill: #3498db;
      stroke: #2980b9;
      stroke-width: 2;
    }
    .contract-token {
      fill: #f39c12;
      stroke: #e67e22;
      stroke-width: 2;
    }
    .contract-staking {
      fill: #27ae60;
      stroke: #2ecc71;
      stroke-width: 2;
    }
    .contract-crowdfunding {
      fill: #8e44ad;
      stroke: #9b59b6;
      stroke-width: 2;
    }
    .contract-oracle {
      fill: #c0392b;
      stroke: #e74c3c;
      stroke-width: 2;
    }
    .contract-offset {
      fill: #16a085;
      stroke: #1abc9c;
      stroke-width: 2;
    }
    .external {
      fill: #7f8c8d;
      stroke: #95a5a6;
      stroke-width: 2;
    }
    .text {
      font-family: Arial, sans-serif;
      font-size: 14px;
      fill: white;
      text-anchor: middle;
      dominant-baseline: middle;
    }
    .text-small {
      font-family: Arial, sans-serif;
      font-size: 10px;
      fill: white;
      text-anchor: middle;
      dominant-baseline: middle;
    }
    .text-dark {
      font-family: Arial, sans-serif;
      font-size: 14px;
      fill: #2c3e50;
      text-anchor: middle;
      dominant-baseline: middle;
    }
    .arrow {
      stroke: #2c3e50;
      stroke-width: 2;
      fill: none;
      marker-end: url(#arrowhead);
    }
    .dashed {
      stroke-dasharray: 5,5;
    }
    .title {
      font-family: Arial, sans-serif;
      font-size: 24px;
      font-weight: bold;
      fill: #2c3e50;
      text-anchor: middle;
    }
    .subtitle {
      font-family: Arial, sans-serif;
      font-size: 14px;
      fill: #2c3e50;
      text-anchor: middle;
    }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50" />
    </marker>
  </defs>
  
  <rect width="100%" height="100%" fill="#ecf0f1" />
  
  <!-- Title -->
  <text x="400" y="40" class="title">TourChain Smart Contracts Architecture</text>
  <text x="400" y="65" class="subtitle">Interação e fluxo de dados entre os contratos principais</text>
  
  <!-- TourToken (Central) -->
  <circle cx="400" cy="280" r="85" class="contract-token" />
  <text x="400" y="265" class="text">TourToken</text>
  <text x="400" y="290" class="text-small">(TOUR)</text>
  <text x="400" y="310" class="text-small">Token ERC20</text>
  
  <!-- TourStaking -->
  <rect x="160" y="150" width="150" height="80" rx="15" class="contract-staking" />
  <text x="235" y="190" class="text">TourStaking</text>
  
  <!-- TourCrowdfunding -->
  <rect x="590" y="150" width="150" height="80" rx="15" class="contract-crowdfunding" />
  <text x="665" y="190" class="text">TourCrowdfunding</text>
  
  <!-- TourOracle -->
  <rect x="160" y="380" width="150" height="80" rx="15" class="contract-oracle" />
  <text x="235" y="420" class="text">TourOracle</text>
  
  <!-- CarbonOffset -->
  <rect x="590" y="380" width="150" height="80" rx="15" class="contract-offset" />
  <text x="665" y="420" class="text">CarbonOffset</text>
  
  <!-- External World -->
  <ellipse cx="70" cy="420" rx="50" ry="30" class="external" />
  <text x="70" y="420" class="text-small">External Data</text>
  
  <!-- Arrows -->
  <!-- Token to Staking -->
  <path d="M 335 250 L 260 210" class="arrow" />
  <text x="290" y="220" class="text-dark">Uses</text>
  
  <!-- Staking to Token -->
  <path d="M 260 170 L 335 250" class="arrow" />
  <text x="290" y="180" class="text-dark">Rewards</text>
  
  <!-- Token to Crowdfunding -->
  <path d="M 465 250 L 640 210" class="arrow" />
  <text x="550" y="220" class="text-dark">Uses</text>
  
  <!-- Crowdfunding to Token -->
  <path d="M 640 170 L 465 250" class="arrow" />
  <text x="550" y="180" class="text-dark">Funding</text>
  
  <!-- Token to CarbonOffset -->
  <path d="M 460 310 L 640 400" class="arrow" />
  <text x="550" y="370" class="text-dark">Payment</text>
  
  <!-- Oracle to CarbonOffset -->
  <path d="M 310 420 L 590 420" class="arrow" />
  <text x="450" y="410" class="text-dark">Carbon Data</text>
  
  <!-- External to Oracle -->
  <path d="M 120 420 L 160 420" class="arrow" />
  <text x="140" y="410" class="text-dark">Feeds</text>
  
  <!-- Oracle to Token -->
  <path d="M 235 380 L 360 310" class="arrow" class="dashed" />
  <text x="280" y="330" class="text-dark">Price Data</text>
  
  <!-- Legend -->
  <rect x="600" y="520" width="20" height="20" class="contract-token" />
  <text x="630" y="532" class="text-dark" text-anchor="start">Token Contract</text>
  
  <rect x="600" y="550" width="20" height="20" class="contract-staking" />
  <text x="630" y="562" class="text-dark" text-anchor="start">Staking Contract</text>
  
  <rect x="600" y="580" width="20" height="20" class="contract-crowdfunding" />
  <text x="630" y="592" class="text-dark" text-anchor="start">Crowdfunding Contract</text>
  
  <rect x="700" y="520" width="20" height="20" class="contract-oracle" />
  <text x="730" y="532" class="text-dark" text-anchor="start">Oracle Contract</text>
  
  <rect x="700" y="550" width="20" height="20" class="contract-offset" />
  <text x="730" y="562" class="text-dark" text-anchor="start">Carbon Offset Contract</text>
  
  <ellipse cx="710" cy="580" rx="10" ry="10" class="external" />
  <text x="730" y="582" class="text-dark" text-anchor="start">External System</text>
</svg>